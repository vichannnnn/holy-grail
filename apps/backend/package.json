{
  "name": "backend",
  "private": true,
  "scripts": {
    "setup": "cp -n .env.example .env 2>/dev/null || true && uv sync",
    "dev": "docker compose -f ../../external/docker/docker-compose.db.yml up -d && uv run uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload",
    "dev:backend-only": "uv run uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload",
    "docker:up": "docker compose -f ../../external/docker/docker-compose.db.yml up -d",
    "docker:down": "docker compose -f ../../external/docker/docker-compose.db.yml down",
    "docker:build": "docker build -t holy-grail-backend .",
    "migrate": "uv run alembic upgrade head",
    "migrate:create": "uv run alembic revision --autogenerate -m",
    "migrate:down": "uv run alembic downgrade -1",
    "seed": "POSTGRES_HOST=localhost uv run python scripts/seed_data.py",
    "format": "uv run ruff format .",
    "lint": "uv run ruff check .",
    "lint:fix": "uv run ruff check . --fix",
    "typecheck": "uv run mypy app",
    "test": "uv run pytest app/tests -x -vv",
    "test:cov": "uv run coverage run -m pytest app/tests && uv run coverage report",
    "check": "npm run lint && npm run typecheck && npm run test"
  }
}